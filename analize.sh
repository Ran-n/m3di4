#! /bin/sh
# -*- coding: utf-8 -*-
# ------------------------------------------------------------------------------
#+ Autor:  	Ran#
#+ Creado: 	2023/02/16 18:05:43.787569
#+ Editado:	2023/02/16 22:40:08.792960
# ------------------------------------------------------------------------------
if [[ -n "$1" && -e "$1" ]]; then
    echo -e "[analize.sh]\tRunning flake8 on" "$1"
    FLAKE_OUTPUT=$(flake8 "$1")
    [[ -z "$FLAKE_OUTPUT" ]]\
        && echo 'All good :)'\
        || echo "$FLAKE_OUTPUT"

    echo -n "══════════════════════════════════════════════════════════════════════════════"

    echo
    echo -e "[analize.sh]\tRunning bandit on" "$1"
    bandit -r "$1"

    echo -n "══════════════════════════════════════════════════════════════════════════════"

    echo
    echo -e "[analize.sh]\tRunning pylint on" "$1"
    [[ "$1" == "." || "$1" == "*" ]]\
        && pylint main.py src\
        || pylint "$1"
else
    echo 'Add valid file'
fi
# ------------------------------------------------------------------------------
